ALU   

–(using case statement)

library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.STD_LOGIC_arith.ALL;
use IEEE.STD_LOGIC_unsigned.ALL;

-- Uncomment the following library declaration if using
-- arithmetic functions with Signed or Unsigned values
--use IEEE.NUMERIC_STD.ALL;

-- Uncomment the following library declaration if instantiating
-- any Xilinx primitives in this code.
--library UNISIM;
--use UNISIM.VComponents.all;

entity ALU_4 is
    Port ( a : in  STD_LOGIC_VECTOR (3 downto 0);
           b : in  STD_LOGIC_VECTOR (3 downto 0);
           sel : in  STD_LOGIC_VECTOR (2 downto 0);
           y : out  STD_LOGIC_VECTOR (3 downto 0));
end ALU_4;

architecture Behavioral of ALU_4 is

begin
process(a,b,sel)
begin
case sel is
when "000"=> y <=a+b;
when "001"=> y <=a-b;
when "010"=> y <=a and b;
when "011"=> y <=a nand b;
when "100"=> y <=a xor b;
when "101"=> y <=a xnor b;
when "110"=> y <=a or b;
when others=> y <=a;
end case;
end process;

end Behavioral;

 

Test Bench Code:

LIBRARY ieee;
USE ieee.std_logic_1164.ALL;
--use IEEE.STD_LOGIC_arith.ALL;
--use IEEE.STD_LOGIC_unsigned.ALL;
 
-- Uncomment the following library declaration if using
-- arithmetic functions with Signed or Unsigned values
--USE ieee.numeric_std.ALL;
 
ENTITY ALU_4_test IS
END ALU_4_test;
 
ARCHITECTURE behavior OF ALU_4_test IS 
 
    -- Component Declaration for the Unit Under Test (UUT)
 
    COMPONENT ALU_4
    PORT(
         a : IN  std_logic_vector(3 downto 0);
         b : IN  std_logic_vector(3 downto 0);
         sel : IN  std_logic_vector(2 downto 0);
         y : OUT  std_logic_vector(3 downto 0)
        );
    END COMPONENT;
    

   --Inputs
   signal a : std_logic_vector(3 downto 0) := (others => '0');
   signal b : std_logic_vector(3 downto 0) := (others => '0');
   signal sel : std_logic_vector(2 downto 0) := (others => '0');

 	--Outputs
   signal y : std_logic_vector(3 downto 0);
   -- No clocks detected in port list. Replace <clock> below with 
   -- appropriate port name 
 
   --constant <clock>_period : time := 10 ns;
 
BEGIN
uut: ALU_4 PORT MAP (
	a => a,
	b => b,
	sel => sel,
	y => y
	);
process
   begin
a<="1100" after 10 ns ;
b<="0011" after 10 ns;
wait for 100 ns;
sel<="000";
wait for 100 ns;
sel<="001";
wait for 100 ns;
sel<="010";
wait for 100 ns;
sel<="011";
wait for 100 ns;
sel<="100";
wait for 100 ns;
sel<="101";
wait for 100 ns;
sel<="110";
wait for 100 ns;
sel<="111";
wait for 100 ns;
     
end process;	
END;

 




















Model Code:

–(using If else)

library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.STD_LOGIC_arith.ALL;
use IEEE.STD_LOGIC_unsigned.ALL;

-- Uncomment the following library declaration if using
-- arithmetic functions with Signed or Unsigned values
--use IEEE.NUMERIC_STD.ALL;

-- Uncomment the following library declaration if instantiating
-- any Xilinx primitives in this code.
--library UNISIM;
--use UNISIM.VComponents.all;

entity alu_4bit is
    Port ( a : in  STD_LOGIC_VECTOR (3 downto 0);
           b : in  STD_LOGIC_VECTOR (3 downto 0);
           s : in  STD_LOGIC_VECTOR (2 downto 0);
           y : out  STD_LOGIC_VECTOR (3 downto 0));
end alu_4bit;

architecture Behavioral of alu_4bit is

begin

process(a, b, s)

begin

if (s = 000) then 
	y <= a + b ;
	
elsif (s = 001) then
	y <= a - b ;
	
elsif (s = 010) then
	y <= a xnor b ;
	 
elsif (s = 011) then
	y <= a nor b ;
	 
elsif (s = 100) then 
	y <= a and b ;
	 
elsif (s = 101) then
	y <= a or b ;
	 
elsif (s = 110) then
	y <= a xor b ;
	
else 
	y <= a nand b ;
	
end if;
end process;

end Behavioral;

 








Test Bench Code:

LIBRARY ieee;
USE ieee.std_logic_1164.ALL;
 
-- Uncomment the following library declaration if using
-- arithmetic functions with Signed or Unsigned values
--USE ieee.numeric_std.ALL;
 
ENTITY alu_4bit_test IS
END alu_4bit_test;
 
ARCHITECTURE behavior OF alu_4bit_test IS 
 
    -- Component Declaration for the Unit Under Test (UUT)
 
    COMPONENT alu_4bit
    PORT(
         a : IN  std_logic_vector(3 downto 0);
         b : IN  std_logic_vector(3 downto 0);
         s : IN  std_logic_vector(2 downto 0);
         y : OUT  std_logic_vector(3 downto 0)
        );
    END COMPONENT;
    

   --Inputs
   signal a : std_logic_vector(3 downto 0) := (others => '0');
   signal b : std_logic_vector(3 downto 0) := (others => '0');
   signal s : std_logic_vector(2 downto 0) := (others => '0');

 	--Outputs
   signal y : std_logic_vector(3 downto 0);
   -- No clocks detected in port list. Replace <clock> below with 
   -- appropriate port name 
  
BEGIN
uut: alu_4bit PORT MAP (
	a => a,
	b => b,
	s => s,
	y => y
	);
 
process 
	begin
	a<="1100" after 10 ns;
	b<="1100" after 10 ns;
	wait for 100 ns;
	s<="000";
	wait for 100 ns;
	s<="001";
	wait for 100 ns;
	s<="010";
	wait for 100 ns;
	s<="011";
	wait for 100 ns;
	s<="100";
	wait for 100 ns;
	s<="101";
	wait for 100 ns;
	s<="110";
	wait for 100 ns;
	s<="111";
	wait for 100 ns;
end process;
END;  

 

 



 

